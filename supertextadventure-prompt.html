<!-- Generated By Claude Code -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Text Adventure - Interactive Terminal</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #0f0;
            height: 100vh;
            overflow: hidden;
        }

        .terminal {
            height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .terminal-header {
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 10px;
            color: #87ceeb;
        }

        .terminal-output {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
            line-height: 1.6;
        }

        .terminal-input-container {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-top: 1px solid #333;
        }

        .terminal-prompt {
            color: #87ceeb;
            margin-right: 10px;
            white-space: nowrap;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
        }

        .terminal-cursor {
            background: #0f0;
            width: 8px;
            height: 16px;
            display: inline-block;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .output-line {
            margin: 3px 0;
            word-wrap: break-word;
        }

        .user-input {
            color: #0f0;
            margin: 5px 0;
        }

        .system-output {
            color: #87ceeb;
            margin: 5px 0;
        }

        .success { color: #0f0; }
        .error { color: #f00; }
        .info { color: #87ceeb; }
        .warning { color: #ff0; }
        .muted { color: #666; }
        .highlight { color: #fff; background: #333; padding: 2px 4px; }

        .ascii-art {
            color: #0f0;
            white-space: pre;
            font-size: 11px;
            line-height: 1.1;
            margin: 15px 0;
        }

        .choices {
            margin: 10px 0;
        }

        .choice-item {
            color: #ff0;
            margin: 2px 0;
            cursor: pointer;
        }

        .choice-item:hover {
            background: #333;
            padding: 2px;
        }

        .room-display {
            background: #111;
            border-left: 3px solid #0f0;
            padding: 10px;
            margin: 10px 0;
        }

        .prompt-text {
            color: #87ceeb;
            font-weight: bold;
        }

        .help-text {
            color: #666;
            font-style: italic;
            font-size: 12px;
        }

        .typing {
            border-right: 2px solid #0f0;
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #0f0; }
        }
    </style>
</head>
<body>
    <div class="terminal">
        <div class="terminal-header">
            Super Text Adventure Interactive Terminal - Answer the prompts naturally
        </div>
        
        <div class="terminal-output" id="terminal-output">
            <!-- Output will be dynamically added here -->
        </div>
        
        <div class="terminal-input-container">
            <span class="terminal-prompt" id="terminal-prompt">></span>
            <input type="text" class="terminal-input" id="terminal-input" autocomplete="off" spellcheck="false">
            <span class="terminal-cursor"></span>
        </div>
    </div>

    <script>
        // Game state
        const gameData = {
            player: { name: null },
            sessionMode: null,
            game: { name: null, rooms: [] },
            currentState: 'welcome',
            currentRoom: null,
            tempData: {}
        };

        const terminal = {
            output: document.getElementById('terminal-output'),
            input: document.getElementById('terminal-input'),
            prompt: document.getElementById('terminal-prompt')
        };

        // Terminal functions
        function addOutput(text, className = '', isUserInput = false) {
            const line = document.createElement('div');
            line.className = `output-line ${className}`;
            
            if (isUserInput) {
                line.innerHTML = `<span class="terminal-prompt">></span> <span class="user-input">${text}</span>`;
            } else {
                line.textContent = text;
            }
            
            terminal.output.appendChild(line);
            terminal.output.scrollTop = terminal.output.scrollHeight;
        }

        function addHTML(html, className = '') {
            const line = document.createElement('div');
            line.className = `output-line ${className}`;
            line.innerHTML = html;
            terminal.output.appendChild(line);
            terminal.output.scrollTop = terminal.output.scrollHeight;
        }

        function typeText(text, className = '', callback = null) {
            const line = document.createElement('div');
            line.className = `output-line ${className} typing`;
            terminal.output.appendChild(line);
            
            let i = 0;
            const timer = setInterval(() => {
                line.textContent += text.charAt(i);
                i++;
                terminal.output.scrollTop = terminal.output.scrollHeight;
                
                if (i >= text.length) {
                    clearInterval(timer);
                    line.classList.remove('typing');
                    if (callback) callback();
                }
            }, 30);
        }

        function generateUUID() {
            return 'xxxx-xxxx-4xxx-yxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        // State handlers
        const stateHandlers = {
            welcome: (input) => {
                showIntro();
            },

            name_input: (input) => {
                if (!input.trim()) {
                    addOutput("I didn't catch that. What's your name?", 'error');
                    return;
                }
                
                gameData.player.name = input.trim();
                addOutput(`Welcome, ${gameData.player.name}!`, 'success');
                addOutput('');
                
                setTimeout(() => {
                    addOutput('What would you like to do today?', 'prompt-text');
                    addHTML('<div class="choices"><div class="choice-item">1. Build an Adventure</div><div class="choice-item">2. Play a Game</div></div>');
                    addOutput('You can type "1", "build", "2", or "play"', 'help-text');
                    gameData.currentState = 'mode_select';
                }, 1000);
            },

            mode_select: (input) => {
                const choice = input.toLowerCase().trim();
                
                if (choice === '1' || choice === 'build' || choice.includes('build')) {
                    gameData.sessionMode = 'build';
                    addOutput('You chose to Build an Adventure', 'warning');
                    addOutput('');
                    typeText(`Let's build your adventure, ${gameData.player.name}!`, 'info', () => {
                        setTimeout(() => {
                            addOutput('');
                            addOutput('First, what would you like to name your game?', 'prompt-text');
                            gameData.currentState = 'game_name';
                        }, 1000);
                    });
                    
                } else if (choice === '2' || choice === 'play' || choice.includes('play')) {
                    addOutput('You chose to Play a Game', 'warning');
                    addOutput('Game playing functionality is not yet implemented.', 'error');
                    addOutput('');
                    addOutput('Let\'s go back to the main menu.', 'info');
                    setTimeout(() => {
                        addOutput('What would you like to do?', 'prompt-text');
                        addHTML('<div class="choices"><div class="choice-item">1. Build an Adventure</div><div class="choice-item">2. Play a Game</div></div>');
                        addOutput('You can type "1", "build", "2", or "play"', 'help-text');
                    }, 2000);
                    
                } else {
                    addOutput('Please choose 1 for Build or 2 for Play', 'error');
                }
            },

            game_name: (input) => {
                if (!input.trim()) {
                    addOutput('Please give your game a name!', 'error');
                    return;
                }
                
                gameData.game.name = input.trim();
                addOutput(`Game name set to "${gameData.game.name}"`, 'success');
                addOutput('');
                
                setTimeout(() => {
                    showBuilderMenu();
                }, 1000);
            },

            builder_menu: (input) => {
                const choice = input.toLowerCase().trim();
                
                if (choice === '1' || choice.includes('room') || choice.includes('add')) {
                    startRoomCreation();
                } else if (choice === '2' || choice.includes('list') || choice.includes('show')) {
                    listRooms();
                } else if (choice === '3' || choice.includes('exit') || choice.includes('done')) {
                    exitBuilder();
                } else {
                    addOutput('Please choose 1, 2, or 3', 'error');
                }
            },

            room_name: (input) => {
                if (!input.trim()) {
                    addOutput('Please give your room a name!', 'error');
                    return;
                }
                
                // Check for duplicate names
                if (gameData.game.rooms.some(room => room.name.toLowerCase() === input.toLowerCase())) {
                    addOutput('A room with that name already exists. Please choose a different name.', 'error');
                    return;
                }
                
                gameData.currentRoom.name = input.trim();
                addOutput(`Room name set to "${gameData.currentRoom.name}"`, 'success');
                addOutput('');
                addOutput('Now, describe this room. What does it look like?', 'prompt-text');
                gameData.currentState = 'room_description';
            },

            room_description: (input) => {
                if (!input.trim()) {
                    addOutput('Please describe the room!', 'error');
                    return;
                }
                
                gameData.currentRoom.description = input.trim();
                addOutput(`Room description set to "${gameData.currentRoom.description}"`, 'success');
                addOutput('');
                
                askAboutItems();
            },

            add_items: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('What item would you like to add?', 'prompt-text');
                    gameData.currentState = 'item_name';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    askAboutMonsters();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            item_name: (input) => {
                if (!input.trim()) {
                    addOutput('Please name the item!', 'error');
                    return;
                }
                
                gameData.tempData.itemName = input.trim();
                addOutput(`Adding item "${gameData.tempData.itemName}"`, 'success');
                addOutput('Describe this item:', 'prompt-text');
                gameData.currentState = 'item_description';
            },

            item_description: (input) => {
                if (!input.trim()) {
                    addOutput('Please describe the item!', 'error');
                    return;
                }
                
                const item = {
                    id: generateUUID(),
                    name: gameData.tempData.itemName,
                    description: input.trim(),
                    roomId: gameData.currentRoom.id,
                    inventoryItem: false
                };
                
                gameData.currentRoom.items.push(item);
                addOutput(`Item "${item.name}" added to the room`, 'success');
                addOutput('');
                askAboutMoreItems();
            },

            add_more_items: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('What item would you like to add?', 'prompt-text');
                    gameData.currentState = 'item_name';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    askAboutMonsters();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            add_monsters: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('What monster would you like to add?', 'prompt-text');
                    gameData.currentState = 'monster_name';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    askAboutDoors();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            monster_name: (input) => {
                if (!input.trim()) {
                    addOutput('Please name the monster!', 'error');
                    return;
                }
                
                gameData.tempData.monsterName = input.trim();
                addOutput(`Adding monster "${gameData.tempData.monsterName}"`, 'success');
                addOutput('Describe this monster:', 'prompt-text');
                gameData.currentState = 'monster_description';
            },

            monster_description: (input) => {
                if (!input.trim()) {
                    addOutput('Please describe the monster!', 'error');
                    return;
                }
                
                gameData.tempData.monsterDescription = input.trim();
                addOutput(`Monster description set`, 'success');
                addOutput('How much health should this monster have? (default: 100)', 'prompt-text');
                gameData.currentState = 'monster_health';
            },

            monster_health: (input) => {
                let health = 100;
                if (input.trim()) {
                    health = parseInt(input.trim()) || 100;
                }
                
                gameData.tempData.monsterHealth = health;
                addOutput(`Monster health set to ${health}`, 'success');
                addOutput('How much attack power should this monster have? (default: 10)', 'prompt-text');
                gameData.currentState = 'monster_attack';
            },

            monster_attack: (input) => {
                let attack = 10;
                if (input.trim()) {
                    attack = parseInt(input.trim()) || 10;
                }
                
                const monster = {
                    id: generateUUID(),
                    name: gameData.tempData.monsterName,
                    description: gameData.tempData.monsterDescription,
                    health: gameData.tempData.monsterHealth,
                    attackPower: attack,
                    roomId: gameData.currentRoom.id
                };
                
                gameData.currentRoom.monsters.push(monster);
                addOutput(`Monster "${monster.name}" added to the room`, 'success');
                addOutput('');
                askAboutMoreMonsters();
            },

            add_more_monsters: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('What monster would you like to add?', 'prompt-text');
                    gameData.currentState = 'monster_name';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    askAboutDoors();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            add_doors: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('Which direction should this door face?', 'prompt-text');
                    addHTML('<div class="choices"><div class="choice-item">North</div><div class="choice-item">South</div><div class="choice-item">East</div><div class="choice-item">West</div></div>');
                    gameData.currentState = 'door_direction';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    finishRoom();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            door_direction: (input) => {
                const direction = input.toLowerCase().trim();
                const validDirections = ['north', 'south', 'east', 'west'];
                
                if (validDirections.includes(direction)) {
                    gameData.tempData.doorDirection = direction;
                    addOutput(`Door direction set to ${direction}`, 'success');
                    addOutput('Describe this door (optional - press Enter to skip):', 'prompt-text');
                    gameData.currentState = 'door_description';
                } else {
                    addOutput('Please choose north, south, east, or west', 'error');
                }
            },

            door_description: (input) => {
                const door = {
                    direction: gameData.tempData.doorDirection,
                    description: input.trim() || 'A door'
                };
                
                gameData.currentRoom.doors.push(door);
                addOutput(`Door to the ${door.direction} added to the room`, 'success');
                addOutput('');
                askAboutMoreDoors();
            },

            add_more_doors: (input) => {
                const response = input.toLowerCase().trim();
                
                if (response === 'yes' || response === 'y' || response.includes('yes')) {
                    addOutput('Which direction should this door face?', 'prompt-text');
                    addHTML('<div class="choices"><div class="choice-item">North</div><div class="choice-item">South</div><div class="choice-item">East</div><div class="choice-item">West</div></div>');
                    gameData.currentState = 'door_direction';
                } else if (response === 'no' || response === 'n' || response.includes('no')) {
                    finishRoom();
                } else {
                    addOutput('Please answer yes or no', 'error');
                }
            },

            list_continue: (input) => {
                showBuilderMenu();
            }
        };

        function showIntro() {
            addHTML(`<pre class="ascii-art">
Welcome To
_____________________________________________________
|     ____                       _____         _    |
|   / ___| _   _ _ __   ___ _ _|_   _|____  _| |_   |
|   \___ \\| | | | '_ \\ / _ \\ '__|| |/ _ \\ \\/ / __|  |
|    ___) | |_| | |_) |  __/ |   | |  __/>  <| |_   |
|   |____/ \\__,_| .__/ \\___|_|   |_|\\___/_/\\_\\\\__|  |
|               |_|                                 |
|     _       _                 _                   |
|    / \\   __| |_   _____ _ __ | |_ _   _ _ __ ___  |
|   / _ \\ / _\` \\ \\ / / _ \\ '_ \\| __| | | | '__/ _ \\ |
|  / ___ \\ (_| |\\ V /  __/ | | | |_| |_| | | |  __/ |
| /_/   \\_\\__,_| \\_/ \\___|_| |_|\\__|\\__,_|_|  \\___| |
|                                                   |
-----------------------------------------------------
                                Your Adventure Awaits
</pre>`);
            
            setTimeout(() => {
                typeText('What is your name, adventurer?', 'prompt-text', () => {
                    gameData.currentState = 'name_input';
                });
            }, 1500);
        }

        function showBuilderMenu() {
            addOutput('What would you like to do in the Game Builder?', 'prompt-text');
            addHTML('<div class="choices"><div class="choice-item">1. Add a Room</div><div class="choice-item">2. List Rooms</div><div class="choice-item">3. Exit Game Builder</div></div>');
            addOutput('Choose 1, 2, or 3', 'help-text');
            gameData.currentState = 'builder_menu';
        }

        function startRoomCreation() {
            gameData.currentRoom = {
                id: generateUUID(),
                name: '',
                description: '',
                items: [],
                monsters: [],
                doors: []
            };
            
            addOutput('Creating a new room...', 'info');
            addOutput('');
            addOutput('What would you like to name this room?', 'prompt-text');
            gameData.currentState = 'room_name';
        }

        function askAboutItems() {
            addOutput('Would you like to add any items to this room?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_items';
        }

        function askAboutMoreItems() {
            addOutput('Would you like to add another item?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_more_items';
        }

        function askAboutMonsters() {
            addOutput('Would you like to add any monsters to this room?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_monsters';
        }

        function askAboutMoreMonsters() {
            addOutput('Would you like to add another monster?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_more_monsters';
        }

        function askAboutDoors() {
            addOutput('Would you like to add any doors to this room?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_doors';
        }

        function askAboutMoreDoors() {
            addOutput('Would you like to add another door?', 'prompt-text');
            addOutput('Type "yes" or "no"', 'help-text');
            gameData.currentState = 'add_more_doors';
        }

        function finishRoom() {
            gameData.game.rooms.push(gameData.currentRoom);
            addOutput(`Room "${gameData.currentRoom.name}" created successfully!`, 'success');
            addOutput('');
            
            // Show room summary
            const room = gameData.currentRoom;
            addHTML(`<div class="room-display">
                <strong>Room Summary:</strong><br>
                <strong>Name:</strong> ${room.name}<br>
                <strong>Description:</strong> ${room.description}<br>
                <strong>Items:</strong> ${room.items.length > 0 ? room.items.map(item => item.name).join(', ') : 'None'}<br>
                <strong>Monsters:</strong> ${room.monsters.length > 0 ? room.monsters.map(monster => monster.name).join(', ') : 'None'}<br>
                <strong>Doors:</strong> ${room.doors.length > 0 ? room.doors.map(door => door.direction).join(', ') : 'None'}
            </div>`);
            
            gameData.currentRoom = null;
            gameData.tempData = {};
            
            setTimeout(() => {
                showBuilderMenu();
            }, 2000);
        }

        function listRooms() {
            if (gameData.game.rooms.length === 0) {
                addOutput('No rooms have been added yet.', 'error');
            } else {
                addOutput(`Current Rooms in "${gameData.game.name}":`, 'info');
                addOutput('');
                
                gameData.game.rooms.forEach((room, index) => {
                    addHTML(`<div class="room-display">
                        <strong>${index + 1}. ${room.name}</strong><br>
                        <strong>Description:</strong> ${room.description}<br>
                        <strong>Items:</strong> ${room.items.length > 0 ? room.items.map(item => item.name).join(', ') : 'None'}<br>
                        <strong>Monsters:</strong> ${room.monsters.length > 0 ? room.monsters.map(monster => monster.name).join(', ') : 'None'}<br>
                        <strong>Doors:</strong> ${room.doors.length > 0 ? room.doors.map(door => door.direction).join(', ') : 'None'}
                    </div>`);
                });
            }
            
            addOutput('');
            addOutput('Press Enter to return to the builder menu', 'help-text');
            gameData.currentState = 'list_continue';
        }

        function exitBuilder() {
            addOutput('Thank you for using Super Text Adventure Builder!', 'success');
            addOutput('');
            addOutput('Current Session Data:', 'info');
            addOutput(JSON.stringify(gameData, null, 2), 'muted');
            addOutput('');
            addOutput('Game builder session complete.', 'success');
        }

        function processInput(input) {
            // Show user input
            addOutput(input, '', true);
            
            // Handle based on current state
            if (stateHandlers[gameData.currentState]) {
                stateHandlers[gameData.currentState](input);
            } else {
                addOutput('System error: Unknown state', 'error');
                gameData.currentState = 'welcome';
                showIntro();
            }
        }

        // Event listeners
        terminal.input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const input = terminal.input.value;
                terminal.input.value = '';
                
                if (gameData.currentState === 'welcome') {
                    processInput(input);
                } else {
                    processInput(input);
                }
            }
        });

        // Auto-focus input
        terminal.input.focus();

        // Initialize
        addOutput('Super Text Adventure Interactive Terminal initialized.', 'success');
        addOutput('Press Enter to begin your adventure...', 'help-text');
        gameData.currentState = 'welcome';
    </script>
</body>
</html>
